package datagram.player;import javax.sound.sampled.*;import java.io.*;import java.net.MalformedURLException;import java.net.URL;public class Player {    private static AudioInputStream audioInputStream = null;    private static void playClip(File clipFile) throws IOException, UnsupportedAudioFileException,            LineUnavailableException, InterruptedException {        class AudioListener implements LineListener {            private boolean done = false;            @Override            public synchronized void update(LineEvent event) {                LineEvent.Type eventType = event.getType();                if (eventType == LineEvent.Type.STOP || eventType == LineEvent.Type.CLOSE) {                    done = true;                    notifyAll();                }            }            public synchronized void waitUntilDone() throws InterruptedException {                while (!done) { wait(); }            }        }        AudioListener listener = new AudioListener();        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(clipFile);        try {            Clip clip = AudioSystem.getClip();            clip.addLineListener(listener);            clip.open(audioInputStream);            try {                clip.start();                listener.waitUntilDone();            } finally {                clip.close();            }        } finally {            audioInputStream.close();        }    }    public static void main(String... args) throws MalformedURLException {        File fileIn = new File("C:\\Users\\Artur_Wojciechowski\\Downloads\\123271543395793.wav");        URL url = new URL("http://www.internet-radio.com/station/danceradioukchatbox/");//playClip(fileIn);//ThreadPlayer threadPlayer = new ThreadPlayer(fileIn);//threadPlayer.run();        StreamPlayer streamPlayer = new StreamPlayer(fileIn);        streamPlayer.run();    }}